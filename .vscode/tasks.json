{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Start All Servers",
            "dependsOn": [
                "Start Embedding Server",
                "Start Llama.cpp Server",
                "Start Rag Server",
                "Start MCP Server"
            ],
            "dependsOrder": "parallel",
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": []
        },
        {
            "label": "Stop All Servers",
            "dependsOn": [
                "Stop Llama.cpp Server",
                "Stop Embedding Server",
                "Stop Rag Server",
                "Stop MCP Server"
            ],
            "dependsOrder": "parallel",
            "group": {
                "kind": "test",
                "isDefault": false
            },
            "problemMatcher": []
        },
        {
            "label": "Start Llama.cpp Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "C:\\Users\\marku\\.continue\\llama-vscode-autostart.ps1"
            ],
            "isBackground": true,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "focus": false
            }
        },
        {
            "label": "Stop Llama.cpp Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "C:\\Users\\marku\\.continue\\llama-stop.ps1"
            ],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "group": "llama-stop"
            }
        },
        {
            "label": "Start Embedding Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../embedding-server-misc/start.ps1"
            ],
            "isBackground": true,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "focus": false
            }
        },
        {
            "label": "Stop Embedding Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../embedding-server-misc/stop.ps1"
            ],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "group": "embedding-stop"
            }
        },
        {
            "label": "Start Rag Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../rag-server-misc/start.ps1"
            ],
            "isBackground": true,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "focus": false
            }
        },
        {
            "label": "Stop Rag Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../rag-server-misc/stop.ps1"
            ],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "group": "rag-stop"
            }
        },
        {
            "label": "Start MCP Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../mcp-server-misc/start-sse.ps1"
            ],
            "isBackground": true,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "focus": false
            }
        },
        {
            "label": "Stop MCP Server",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-File",
                "${workspaceFolder}/../mcp-server-misc/stop.ps1"
            ],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "group": "mcp-stop"
            }
        },
        {
            "label": "Show Server Status",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-Command",
                "& { Write-Host 'LLAMA SERVER:' -ForegroundColor Cyan; Get-Process llama-server -ErrorAction SilentlyContinue | Select-Object ProcessName, Id, CPU, Memory; Write-Host 'EMBEDDING SERVER:' -ForegroundColor Cyan; Get-Process python -ErrorAction SilentlyContinue | Where-Object { $_.CommandLine -like '*embedding*' } | Select-Object ProcessName, Id, CPU, Memory; Write-Host 'MCP SERVER:' -ForegroundColor Cyan; Get-Process python -ErrorAction SilentlyContinue | Where-Object { $_.CommandLine -like '*mcp*' } | Select-Object ProcessName, Id, CPU, Memory }"
            ],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "group": "status"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: MCP Smoke Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/mcp/",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-mcp"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: Embedding Smoke Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/embedding/",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-embedding"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: ALL Smoke Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/",
                "-v",
                "--color=yes",
                "--tb=short",
                "-k",
                "smoke"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-all"
            },
            "problemMatcher": [],
            "dependsOn": [
                "LLM: MCP Smoke Tests",
                "LLM: Embedding Smoke Tests",
                "LLM: RAG Smoke Tests"
            ]
        },
        {
            "label": "LLM: RAG Smoke Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/rag/",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-rag"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: RAG Quality Gate Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/rag/test_rag_quality_gate.py",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-quality-gate"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: MCP RAG-First Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/mcp/test_mcp_rag_first.py",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-rag-first"
            },
            "problemMatcher": []
        },
        {
            "label": "LLM: RAG-First Architecture Tests",
            "type": "shell",
            "command": "python",
            "args": [
                "-m",
                "pytest",
                "llm-test-suite/tests/rag/test_rag_quality_gate.py",
                "llm-test-suite/tests/mcp/test_mcp_rag_first.py",
                "-v",
                "--color=yes",
                "--tb=short"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "clear": true,
                "group": "test-rag-architecture"
            },
            "problemMatcher": []
        }
    ]
}